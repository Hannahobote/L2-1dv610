Man kör “npm test” för att köra alla testerna. Testfilen ligger i src/view/testApp.js . Observera fallen nedan. OBS: Bytt användarnamnet i register(), om den redan finns i databasen. Session cookies är inte tillagd i denna applikationen.

| Vad som testats / Ex metod namn, eller krav | Hur det testats | Testresultat |
| --- | --- | --- |
| const auth = new SimpleAuth(process.env.DB_CONNECTION_STRING) | Detta är kärnan av modulen, du kan inte använda modulen om du inte kopplar det till en mongo databas. Du kan inte använda någon av metoderna utan att koppla till databasen först. | I terminen kommer du att se “Mongoose connection is open.” , “Mongoose connection is disconnected”  eller “Mongoose connection is disconnected due to application termination” beroende på hur du har konfigurerat din databas. Om du har haft rätt databas sträng i parameter (samt rätt databas inställningar) så ska du få ut “Mongoose connection is open”. |
| SimpleAuth.registerUser(username, password) | Man registrera en ny användarnamn med “username” parameter och sedan skriver man ett lösenord med “password” parameter. OBS: Du kan inte använda metoderna nedan om du inte har registrerat en användare först! | Om användaren finns så kommer du få tillbaka ett objekt med information av den skapade användaren. Om användarnamnet redan används, så kommer du få ett mongoose error om att användarnamnet redan finns. |
| SimpleAuth.signIn('hannah3', 'password') | Logga in på existerande användare genom att ange rätt användarnamn och lösenord. Använd parameter “username” och “password”. | Om informationen stämmer kommer du att se i consolen “user logged in”. Denna informationen kommer ifrån authenticateUser(). När en användare är inloggad blir “authenticated=true” (i användare objektet).  Dock finns det ingen test som kollar om den är “true” vid det tillfället. |
| SimpleAuth.getCurrentSignedInUser() | Denna metoden kollar vilken användare som är inloggad. Man kan endast använda denna metoden efter man har loggad in en användare. | Om ett användare är inloggad ska de returnera ett objektet med användare informationen, annars ska resultatet vara “null”. Om användaren är inloggas så ska “authenticated=true” |
| SimpleAuth.SignOut() | Man kan endast använda denna metoden efter man har använt signIn(). Detta bör vara den sista metoden man använder i sitt program. | Metoden returnerar ett objektet med användare info. Om metoden fungerar så ska authenticated=false. Dock kan det uppstå problem med denna metoden om man inte har använt signIn() först, |
| SimpleAuth.getAllUsers() | Kan endast användas efter kan har använt “new=SimpleAuth(process.env.DB_CONNECTION_STRING) “ för att starta applikationen. Detta mste man göra för att starta databasen. Du kan få antalet användare i databasen utan att ha några användare och då får du ut en tom objekt array | Returnerar ett objekt array med alla användare som finns i databasen. Om databasen är tom, så får man ut en tom array. |